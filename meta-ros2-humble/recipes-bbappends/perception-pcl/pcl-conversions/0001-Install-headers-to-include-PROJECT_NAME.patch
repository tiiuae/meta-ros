From 6231a7e8760804a81f2cc1b7d1a564dc0e7663bc Mon Sep 17 00:00:00 2001
From: Mehmet Killioglu <mehmet.killioglu@unikie.com>
Date: Mon, 5 Jun 2023 11:58:08 +0300
Subject: [PATCH] Install headers to include/PROJECT_NAME

---
 CMakeLists.txt | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 499ac38..b81a01c 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -33,8 +33,8 @@ include_directories(
   ${PCL_COMMON_INCLUDE_DIRS}
 )
 
-install(DIRECTORY include/${PROJECT_NAME}/
-  DESTINATION include/${PROJECT_NAME}/
+install(DIRECTORY include/
+  DESTINATION include/${PROJECT_NAME}
 )
 
 # Add gtest based cpp test target
@@ -47,7 +47,7 @@ if(BUILD_TESTING)
   )
   target_link_libraries(${PROJECT_NAME}-test ${Boost_LIBRARIES} ${PCL_LIBRARIES})
 endif()
-
-ament_export_include_directories(include)
-ament_export_dependencies(${dependencies})
+# Export old-style CMake variables
+ament_export_include_directories("include/${PROJECT_NAME}")
+ament_export_dependencies(${dependencies} PCL)
 ament_package()
-- 
2.34.1

